(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(9828)}])},9828:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(5893),l=s(7294),r=s(9008),n=s.n(r);function c(){let[e,t]=(0,l.useState)([]),[s,r]=(0,l.useState)(null),[c,d]=(0,l.useState)([]),[i,x]=(0,l.useState)(!0),[m,o]=(0,l.useState)(null);(0,l.useEffect)(()=>{h()},[]);let h=async()=>{try{x(!0);let e=await fetch("/api/tags");if(!e.ok)throw Error("Failed to fetch tags");let s=await e.json();t(s)}catch(e){o(e.message)}finally{x(!1)}},u=async e=>{try{x(!0);let t=await fetch("/api/tags?tag_name=".concat(encodeURIComponent(e)));if(!t.ok)throw Error("Failed to fetch stocks");let s=await t.json();d(s),r(e)}catch(e){o(e.message)}finally{x(!1)}},g=e.reduce((e,t)=>{let s=t.type||"其他";return e[s]||(e[s]=[]),e[s].push(t),e},{}),p=e=>{let t={dynamic:"bg-blue-100 text-blue-800 border-blue-200",行业分类:"bg-green-100 text-green-800 border-green-200",特殊名单:"bg-purple-100 text-purple-800 border-purple-200",其他:"bg-gray-100 text-gray-800 border-gray-200"};return t[e]||t["其他"]},b=e=>{if(null==e)return"N/A";let t=e.toFixed(2);return(0,a.jsxs)("span",{className:e>=0?"text-green-600":"text-red-600",children:[e>=0?"+":"",t,"%"]})};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"Tag Explorer - 智能股票标签系统"}),(0,a.jsx)("meta",{name:"description",content:"智能股票标签系统，发现股票集群"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"\uD83C\uDFF7️ Tag Explorer"}),(0,a.jsx)("p",{className:"text-xl text-gray-600",children:"智能股票标签系统 - 发现股票集群的新方式"})]}),m&&(0,a.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:["错误: ",m]}),i&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"加载中..."})]}),!s&&!i&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:["\uD83D\uDCCA 标签总览 (",e.length," 个标签)"]}),Object.entries(g).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium mb-3 text-gray-700",children:[t," (",s.length," 个)"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(e=>(0,a.jsxs)("button",{onClick:()=>u(e.name),className:"px-3 py-2 rounded-full text-sm font-medium border transition-all hover:shadow-md ".concat(p(e.type)),children:[e.name,(0,a.jsxs)("span",{className:"ml-1 text-xs opacity-75",children:["(",e.stock_count,")"]})]},e.name))})]},t)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"\uD83D\uDE80 动态标签系统特色"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"\uD83D\uDCC8 实时市场数据"}),(0,a.jsx)("p",{className:"text-sm text-blue-600",children:"基于最新的股价、市值、涨跌幅等数据自动生成标签"})]}),(0,a.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-green-800 mb-2",children:"\uD83C\uDFED 行业分类"}),(0,a.jsx)("p",{className:"text-sm text-green-600",children:"智能识别股票所属行业，便于行业对比分析"})]}),(0,a.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-purple-800 mb-2",children:"⭐ 特殊名单"}),(0,a.jsx)("p",{className:"text-sm text-purple-600",children:"标普500、纳斯达克100等重要指数成分股"})]})]})]})]}),s&&!i&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800",children:["标签: ",s," (",c.length," 只股票)"]}),(0,a.jsx)("button",{onClick:()=>{r(null),d([])},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"返回标签列表"})]}),c.length>0?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full table-auto",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-50",children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"股票代码"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"公司名称"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"涨跌幅"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:c.map((e,t)=>(0,a.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.ticker}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:e.name_zh||"N/A"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:b(e.change_percent)})]},e.ticker))})]})}):(0,a.jsx)("p",{className:"text-gray-500 text-center py-8",children:"该标签下暂无股票数据"})]})]}),(0,a.jsx)("footer",{className:"bg-gray-800 text-white py-8 mt-12",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,a.jsx)("p",{className:"text-gray-300",children:"\xa9 2024 Tag Explorer - 智能股票标签系统"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"数据每日自动更新，标签基于最新市场数据生成"})]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);